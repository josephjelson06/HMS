(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9898],{5854:function(t,e,n){"use strict";n.d(e,{n:function(){return s},E:function(){return u}});var r=n(7437),i=n(3301);function s(t){let{permission:e,children:n,fallback:s=null}=t,{permissions:u,loading:c}=(0,i.a)();return c?null:!function(t,e){if(t.includes(e))return!0;let n=e.split(":");for(let e of t){if("*"===e)return!0;let t=e.split(":");if(t.length===n.length){let e=!0;for(let r=0;r<t.length;r+=1)if("*"!==t[r]&&t[r]!==n[r]){e=!1;break}if(e)return!0}if(t.length<n.length&&"*"===t[t.length-1]&&t.slice(0,t.length-1).join(":")===n.slice(0,t.length-1).join(":"))return!0}return!1}(u,e)?(0,r.jsx)(r.Fragment,{children:s}):(0,r.jsx)(r.Fragment,{children:n})}function u(t){let{userType:e,children:n,fallback:s=null}=t,{user:u,loading:c}=(0,i.a)();return c?null:u&&u.user_type===e?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsx)("div",{className:"auth-layout",children:(0,r.jsxs)("div",{className:"glass-card auth-card",children:[(0,r.jsx)("h2",{className:"text-2xl",children:"Access denied"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-[color:var(--muted)]",children:"You do not have access to this workspace."}),s]})})}},2145:function(t,e,n){"use strict";n.d(e,{m:function(){return u}});var r=n(7437),i=n(4839),s=n(7282);function u(t){let{title:e,description:n,rightSlot:u,count:c,countLabel:l,className:a}=t;return(0,r.jsxs)("div",{className:(0,i.Z)("ui-page-header",a),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"ui-page-title",children:e}),n?(0,r.jsx)("p",{className:"ui-page-subtitle",children:n}):null]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["number"==typeof c?(0,r.jsxs)(s.C,{variant:"accent",children:[c,l?" ".concat(l):""]}):null,u]})]})}},1288:function(t,e,n){"use strict";n.d(e,{H:function(){return l},E:function(){return a}});var r=n(7437),i=n(2265),s=n(5139);let u={login:(t,e)=>(0,s.S)("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})}),refresh:()=>(0,s.S)("/auth/refresh",{method:"POST"}),logout:()=>(0,s.S)("/auth/logout",{method:"POST"}),me:()=>(0,s.S)("/auth/me"),startImpersonation:t=>(0,s.S)("/auth/impersonation/start",{method:"POST",body:JSON.stringify(t)}),stopImpersonation:()=>(0,s.S)("/auth/impersonation/stop",{method:"POST"})},c=(0,i.createContext)(void 0);function l(t){let{children:e}=t,[n,s]=(0,i.useState)(null),[l,a]=(0,i.useState)([]),[o,d]=(0,i.useState)(null),[f,h]=(0,i.useState)(null),[m,p]=(0,i.useState)(!0),x=(0,i.useCallback)(t=>{var e,n;s(t.user),a(t.permissions),d(null!==(e=t.tenant)&&void 0!==e?e:null),h(null!==(n=t.impersonation)&&void 0!==n?n:null)},[]),v=(0,i.useCallback)(async()=>{try{let t=await u.me();x(t)}catch(t){try{let t=await u.refresh();x(t)}catch(t){s(null),a([]),d(null),h(null)}}finally{p(!1)}},[x]);(0,i.useEffect)(()=>{v()},[v]);let g=(0,i.useCallback)(async(t,e)=>{let n=await u.login(t,e);return x(n),n},[x]),j=(0,i.useCallback)(async()=>{await u.logout(),s(null),a([]),d(null),h(null)},[]),y=(0,i.useCallback)(async()=>{x(await u.refresh())},[x]),N=(0,i.useCallback)(async t=>{let e=await u.startImpersonation(t);return x(e),e},[x]),b=(0,i.useCallback)(async()=>{let t=await u.stopImpersonation();return x(t),t},[x]),T=(0,i.useMemo)(()=>({user:n,permissions:l,tenant:o,impersonation:f,loading:m,login:g,logout:j,refresh:y,startImpersonation:N,stopImpersonation:b}),[n,l,o,f,m,g,j,y,N,b]);return(0,r.jsx)(c.Provider,{value:T,children:e})}function a(){let t=(0,i.useContext)(c);if(!t)throw Error("useAuthContext must be used within AuthProvider");return t}},4862:function(t,e,n){"use strict";n.d(e,{y:function(){return s}});var r=n(7437),i=n(7606);function s(t){let{title:e,children:n}=t;return(0,r.jsx)(i.q,{title:e,children:n})}},6572:function(t,e,n){"use strict";n.d(e,{w:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{columns:e,rows:n,rowKey:s,emptyFallback:u=null,className:c}=t;return 0===n.length?(0,r.jsx)(r.Fragment,{children:u}):(0,r.jsxs)("table",{className:(0,i.Z)("ui-table",c),children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:e.map(t=>(0,r.jsx)("th",{className:(0,i.Z)("pb-3",t.headerClassName),children:t.header},t.key))})}),(0,r.jsx)("tbody",{children:n.map((t,n)=>(0,r.jsx)("tr",{children:e.map(e=>(0,r.jsx)("td",{className:(0,i.Z)("py-3",e.cellClassName),children:e.render(t,n)},e.key))},s(t,n)))})]})}},6053:function(t,e,n){"use strict";n.d(e,{r:function(){return u}});var r=n(7437),i=n(6430),s=n(7606);function u(t){let{title:e,table:n,footer:u}=t;return(0,r.jsxs)(s.q,{title:e,children:[(0,r.jsx)(i.K,{children:n}),u?(0,r.jsx)("div",{className:"mt-3",children:u}):null]})}},22:function(t,e,n){"use strict";n.d(e,{u:function(){return s}});var r=n(7437),i=n(4631);function s(t){let{title:e="Nothing here yet",description:n}=t;return(0,r.jsxs)(i.W,{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg",children:e}),(0,r.jsx)("p",{className:"mt-2 text-sm text-[color:var(--color-text-muted)]",children:n})]})}},4024:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{tone:e="info",message:n,className:s}=t;return(0,r.jsx)("p",{className:(0,i.Z)("ui-inline-alert","ui-inline-alert-".concat(e),s),children:n})}},6430:function(t,e,n){"use strict";n.d(e,{K:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{children:e,className:n}=t;return(0,r.jsx)("div",{className:(0,i.Z)("ui-table-wrap",n),children:e})}},7606:function(t,e,n){"use strict";n.d(e,{q:function(){return u}});var r=n(7437),i=n(4839),s=n(4631);function u(t){let{title:e,actions:n,children:u,className:c}=t;return(0,r.jsxs)(s.W,{className:(0,i.Z)("p-6 ui-reveal",c),children:[(e||n)&&(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e?(0,r.jsx)("h3",{className:"text-lg",children:e}):(0,r.jsx)("span",{}),n]}),(0,r.jsx)("div",{className:(0,i.Z)((e||n)&&"mt-4"),children:u})]})}},5205:function(t,e,n){"use strict";n.d(e,{l:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{children:e,className:n}=t;return(0,r.jsx)("div",{className:(0,i.Z)("flex flex-wrap gap-2",n),children:e})}},4631:function(t,e,n){"use strict";n.d(e,{W:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{children:e,className:n}=t;return(0,r.jsx)("div",{className:(0,i.Z)("glass-card",n),children:e})}},7282:function(t,e,n){"use strict";n.d(e,{C:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{variant:e="accent",className:n,children:s,...u}=t;return(0,r.jsx)("span",{className:(0,i.Z)("badge","badge-".concat(e),n),...u,children:s})}},5427:function(t,e,n){"use strict";n.d(e,{z:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{className:e,variant:n="secondary",size:s="md",children:u,...c}=t;return(0,r.jsx)("button",{className:(0,i.Z)("ui-btn ui-anim","ui-btn-".concat(n),"sm"===s&&"ui-btn-sm","md"===s&&"ui-btn-md","lg"===s&&"ui-btn-lg",e),...c,children:u})}},7032:function(t,e,n){"use strict";n.d(e,{g:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{label:e,required:n,hint:s,error:u,className:c,children:l}=t;return(0,r.jsxs)("div",{className:(0,i.Z)("space-y-2",c),children:[(0,r.jsxs)("label",{className:"text-sm",children:[e,n&&(0,r.jsx)("span",{className:"ml-1 text-[color:var(--color-accent)]",children:"*"})]}),l,u?(0,r.jsx)("p",{className:"text-xs text-red-400",children:u}):s?(0,r.jsx)("p",{className:"text-xs text-[color:var(--color-text-muted)]",children:s}):null]})}},9465:function(t,e,n){"use strict";n.d(e,{l:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{className:e,children:n,...s}=t;return(0,r.jsx)("select",{className:(0,i.Z)("ui-select",e),...s,children:n})}},6243:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{className:e,...n}=t;return(0,r.jsx)("input",{className:(0,i.Z)("ui-input",e),...n})}},7868:function(t,e,n){"use strict";n.d(e,{F:function(){return s}});var r=n(7437),i=n(4839);function s(t){let{className:e,...n}=t;return(0,r.jsx)("textarea",{className:(0,i.Z)("ui-textarea",e),...n})}},3828:function(t,e,n){"use strict";n.d(e,{B:function(){return i}});var r=n(5139);let i={list:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(0,r.S)("/admin/hotels?page=".concat(t,"&limit=").concat(e))},get:t=>(0,r.S)("/admin/hotels/".concat(t)),create:t=>(0,r.S)("/admin/hotels",{method:"POST",body:JSON.stringify(t)}),update:(t,e)=>(0,r.S)("/admin/hotels/".concat(t),{method:"PUT",body:JSON.stringify(e)}),remove:t=>(0,r.S)("/admin/hotels/".concat(t),{method:"DELETE"})}},5139:function(t,e,n){"use strict";var r;n.d(e,{S:function(){return s}});let i=null!==(r=n(357).env.NEXT_PUBLIC_API_URL)&&void 0!==r?r:"http://localhost:8000/api";async function s(t){var e,n,r;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u="".concat(i).concat(t),c=new Headers(null!==(n=s.headers)&&void 0!==n?n:{}),l=null!==(r=null===(e=s.method)||void 0===e?void 0:e.toUpperCase())&&void 0!==r?r:"GET";if("GET"!==l&&"HEAD"!==l){let t=function(){if("undefined"==typeof document)return null;let t=document.cookie.match(/csrf_token=([^;]+)/);return t?decodeURIComponent(t[1]):null}();t&&c.set("X-CSRF-Token",t),c.has("Content-Type")||c.set("Content-Type","application/json")}let a=await fetch(u,{...s,headers:c,credentials:"include"});if(!a.ok)throw Error(await a.text()||a.statusText);if(204===a.status)return;let o=await a.text();if(o)return JSON.parse(o)}},3301:function(t,e,n){"use strict";n.d(e,{a:function(){return i}});var r=n(1288);function i(){return(0,r.E)()}},357:function(t,e,n){"use strict";var r,i;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(8081)},8081:function(t){!function(){var e={229:function(t){var e,n,r,i=t.exports={};function s(){throw Error("setTimeout has not been defined")}function u(){throw Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===s||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:s}catch(t){e=s}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(t){n=u}}();var l=[],a=!1,o=-1;function d(){a&&r&&(a=!1,r.length?l=r.concat(l):o=-1,l.length&&f())}function f(){if(!a){var t=c(d);a=!0;for(var e=l.length;e;){for(r=l,l=[];++o<e;)r&&r[o].run();o=-1,e=l.length}r=null,a=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||a||c(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var s=n[t]={exports:{}},u=!0;try{e[t](s,s.exports,r),u=!1}finally{u&&delete n[t]}return s.exports}r.ab="//";var i=r(229);t.exports=i}()},4839:function(t,e,n){"use strict";e.Z=function(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=function t(e){var n,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r)}return i}(t))&&(r&&(r+=" "),r+=e);return r}}}]);