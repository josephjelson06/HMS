(()=>{var e={};e.id=7724,e.ids=[7724],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4267:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),s(7873),s(5453),s(4752),s(5866);var r=s(3191),a=s(8716),n=s(7922),l=s.n(n),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["hotel",{children:["support",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7873)),"C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\hotel\\support\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5453)),"C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\hotel\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4752)),"C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\hotel\\support\\page.tsx"],d="/hotel/support/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/hotel/support/page",pathname:"/hotel/support",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5206:(e,t,s)=>{Promise.resolve().then(s.bind(s,3174))},4638:(e,t,s)=>{Promise.resolve().then(s.bind(s,6835))},3174:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(326),a=s(4784),n=s(1072),l=s(9557);function i({children:e}){return r.jsx(l.E,{userType:"hotel",children:r.jsx(a.q,{variant:"hotel",children:(0,r.jsxs)("div",{className:"min-w-0",children:[r.jsx(n.w,{}),r.jsx("main",{className:"p-6",children:e})]})})})}},6835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(326),a=s(7577),n=s(9557),l=s(4863),i=s(6126),o=s(3556),c=s(7574),u=s(1346),d=s(6062),p=s(5430),m=s(7759),x=s(7118),h=s(4909),j=s(5495),g=s(9684);let v={list:(e=20)=>(0,g.S)(`/hotel/helpdesk?limit=${e}`),create:e=>(0,g.S)("/hotel/helpdesk",{method:"POST",body:JSON.stringify(e)})},y={requester_name:"",requester_email:"",subject:"",description:"",priority:"normal"};function f(){let[e,t]=(0,a.useState)([]),[s,g]=(0,a.useState)(!0),[f,b]=(0,a.useState)(y),[N,k]=(0,a.useState)(null),C=(0,a.useCallback)(async()=>{g(!0),k(null);try{let e=await v.list(50);t(e)}catch(e){k(e instanceof Error?e.message:"Failed to load helpdesk tickets")}finally{g(!1)}},[]),_=(e,t)=>{b(s=>({...s,[e]:t}))},q=()=>{b(y)},S=(0,a.useMemo)(()=>({requester_name:f.requester_name||void 0,requester_email:f.requester_email||void 0,subject:f.subject,description:f.description||void 0,priority:f.priority||void 0}),[f]),P=async e=>{e.preventDefault(),k(null);try{await v.create(S),q(),await C()}catch(e){k(e instanceof Error?e.message:"Failed to submit ticket")}};return r.jsx(n.n,{permission:"hotel:support:read",fallback:(0,r.jsxs)(p.W,{className:"p-6",children:[r.jsx("h2",{className:"text-2xl",children:"Access denied"}),r.jsx("p",{className:"mt-2 text-sm text-[color:var(--color-text-muted)]",children:"You do not have permission to access support tickets."})]}),children:(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(l.m,{title:"Help & Support",description:"Submit and track support requests for your hotel.",count:e.length,countLabel:"Tickets"}),r.jsx(n.n,{permission:"hotel:support:create",children:(0,r.jsxs)(i.y,{title:"Create Support Ticket",children:[(0,r.jsxs)("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:P,children:[r.jsx(x.g,{label:"Requester Name",children:r.jsx(j.o,{value:f.requester_name,onChange:e=>_("requester_name",e.target.value),placeholder:"Jane Doe"})}),r.jsx(x.g,{label:"Requester Email",children:r.jsx(j.o,{value:f.requester_email,onChange:e=>_("requester_email",e.target.value),placeholder:"jane@hotel.com"})}),r.jsx(x.g,{label:"Subject",required:!0,className:"md:col-span-2",children:r.jsx(j.o,{value:f.subject,onChange:e=>_("subject",e.target.value),placeholder:"POS integration issue",required:!0})}),r.jsx(x.g,{label:"Description",className:"md:col-span-2",children:r.jsx(h.F,{value:f.description,onChange:e=>_("description",e.target.value),rows:3})}),r.jsx(x.g,{label:"Priority",children:r.jsx(j.o,{value:f.priority,onChange:e=>_("priority",e.target.value),placeholder:"normal"})}),r.jsx("div",{className:"md:col-span-2 flex flex-wrap gap-3",children:r.jsx(m.z,{type:"submit",variant:"primary",children:"Submit Ticket"})})]}),N?r.jsx(d.o,{tone:"error",message:N,className:"mt-2"}):null]})}),s?r.jsx(d.o,{tone:"info",message:"Loading tickets..."}):0===e.length?r.jsx(u.u,{description:"No tickets submitted yet."}):r.jsx(c.r,{title:"Recent Tickets",table:r.jsx(o.w,{columns:[{key:"subject",header:"Subject",cellClassName:"font-medium",render:e=>e.subject},{key:"status",header:"Status",render:e=>e.status},{key:"priority",header:"Priority",render:e=>e.priority},{key:"created",header:"Created",render:e=>e.created_at?new Date(e.created_at).toLocaleDateString():"-"}],rows:e,rowKey:e=>e.id})})]})})}},4863:(e,t,s)=>{"use strict";s.d(t,{m:()=>l});var r=s(326),a=s(1135),n=s(3118);function l({title:e,description:t,rightSlot:s,count:l,countLabel:i,className:o}){return(0,r.jsxs)("div",{className:(0,a.Z)("ui-page-header",o),children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"ui-page-title",children:e}),t?r.jsx("p",{className:"ui-page-subtitle",children:t}):null]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["number"==typeof l?(0,r.jsxs)(n.C,{variant:"accent",children:[l,i?` ${i}`:""]}):null,s]})]})}},6126:(e,t,s)=>{"use strict";s.d(t,{y:()=>n});var r=s(326),a=s(4612);function n({title:e,children:t}){return r.jsx(a.q,{title:e,children:t})}},3556:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var r=s(326),a=s(1135);function n({columns:e,rows:t,rowKey:s,emptyFallback:n=null,className:l}){return 0===t.length?r.jsx(r.Fragment,{children:n}):(0,r.jsxs)("table",{className:(0,a.Z)("ui-table",l),children:[r.jsx("thead",{children:r.jsx("tr",{children:e.map(e=>r.jsx("th",{className:(0,a.Z)("pb-3",e.headerClassName),children:e.header},e.key))})}),r.jsx("tbody",{children:t.map((t,n)=>r.jsx("tr",{children:e.map(e=>r.jsx("td",{className:(0,a.Z)("py-3",e.cellClassName),children:e.render(t,n)},e.key))},s(t,n)))})]})}},7574:(e,t,s)=>{"use strict";s.d(t,{r:()=>l});var r=s(326),a=s(6184),n=s(4612);function l({title:e,table:t,footer:s}){return(0,r.jsxs)(n.q,{title:e,children:[r.jsx(a.K,{children:t}),s?r.jsx("div",{className:"mt-3",children:s}):null]})}},1346:(e,t,s)=>{"use strict";s.d(t,{u:()=>n});var r=s(326),a=s(5430);function n({title:e="Nothing here yet",description:t}){return(0,r.jsxs)(a.W,{className:"p-6",children:[r.jsx("h3",{className:"text-lg",children:e}),r.jsx("p",{className:"mt-2 text-sm text-[color:var(--color-text-muted)]",children:t})]})}},6062:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var r=s(326),a=s(1135);function n({tone:e="info",message:t,className:s}){return r.jsx("p",{className:(0,a.Z)("ui-inline-alert",`ui-inline-alert-${e}`,s),children:t})}},6184:(e,t,s)=>{"use strict";s.d(t,{K:()=>n});var r=s(326),a=s(1135);function n({children:e,className:t}){return r.jsx("div",{className:(0,a.Z)("ui-table-wrap",t),children:e})}},4612:(e,t,s)=>{"use strict";s.d(t,{q:()=>l});var r=s(326),a=s(1135),n=s(5430);function l({title:e,actions:t,children:s,className:l}){return(0,r.jsxs)(n.W,{className:(0,a.Z)("p-6 ui-reveal",l),children:[(e||t)&&(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e?r.jsx("h3",{className:"text-lg",children:e}):r.jsx("span",{}),t]}),r.jsx("div",{className:(0,a.Z)((e||t)&&"mt-4"),children:s})]})}},5430:(e,t,s)=>{"use strict";s.d(t,{W:()=>n});var r=s(326),a=s(1135);function n({children:e,className:t}){return r.jsx("div",{className:(0,a.Z)("glass-card",t),children:e})}},3118:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(326),a=s(1135);function n({variant:e="accent",className:t,children:s,...n}){return r.jsx("span",{className:(0,a.Z)("badge",`badge-${e}`,t),...n,children:s})}},7759:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var r=s(326),a=s(1135);function n({className:e,variant:t="secondary",size:s="md",children:n,...l}){return r.jsx("button",{className:(0,a.Z)("ui-btn ui-anim",`ui-btn-${t}`,"sm"===s&&"ui-btn-sm","md"===s&&"ui-btn-md","lg"===s&&"ui-btn-lg",e),...l,children:n})}},7118:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(326),a=s(1135);function n({label:e,required:t,hint:s,error:n,className:l,children:i}){return(0,r.jsxs)("div",{className:(0,a.Z)("space-y-2",l),children:[(0,r.jsxs)("label",{className:"text-sm",children:[e,t&&r.jsx("span",{className:"ml-1 text-[color:var(--color-accent)]",children:"*"})]}),i,n?r.jsx("p",{className:"text-xs text-red-400",children:n}):s?r.jsx("p",{className:"text-xs text-[color:var(--color-text-muted)]",children:s}):null]})}},5495:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var r=s(326),a=s(1135);function n({className:e,...t}){return r.jsx("input",{className:(0,a.Z)("ui-input",e),...t})}},4909:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});var r=s(326),a=s(1135);function n({className:e,...t}){return r.jsx("textarea",{className:(0,a.Z)("ui-textarea",e),...t})}},5453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var r=s(8570);let a=(0,r.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\layout.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let i=(0,r.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\layout.tsx#default`)},7873:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var r=s(8570);let a=(0,r.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\support\page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let i=(0,r.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\support\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[5819,8591,9158],()=>s(4267));module.exports=r})();