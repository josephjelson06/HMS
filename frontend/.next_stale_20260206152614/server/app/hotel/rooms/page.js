(()=>{var e={};e.id=8798,e.ids=[8798],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9209:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(9733),r(5453),r(4752),r(5866);var s=r(3191),a=r(8716),n=r(7922),o=r.n(n),l=r(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let c=["",{children:["hotel",{children:["rooms",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9733)),"C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\hotel\\rooms\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5453)),"C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\hotel\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\josep\\Documents\\AarkayTechnoConsultants\\HMS\\frontend\\app\\hotel\\rooms\\page.tsx"],u="/hotel/rooms/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/hotel/rooms/page",pathname:"/hotel/rooms",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5206:(e,t,r)=>{Promise.resolve().then(r.bind(r,3174))},2418:(e,t,r)=>{Promise.resolve().then(r.bind(r,7173))},3174:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(326),a=r(4784),n=r(1072),o=r(9557);function l({children:e}){return s.jsx(o.E,{userType:"hotel",children:s.jsx(a.q,{variant:"hotel",children:(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx(n.w,{}),s.jsx("main",{className:"p-6",children:e})]})})})}},7173:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(326),a=r(7577),n=r(9557),o=r(4863),l=r(6126),i=r(3556),c=r(7574),d=r(1346),u=r(6062),m=r(5481),p=r(4381),h=r(5430),x=r(7759),y=r(7118),v=r(5495),j=r(4909),g=r(9684);let f={list:e=>{let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.search&&t.set("search",e.search);let r=t.toString();return(0,g.S)(`/hotel/rooms${r?`?${r}`:""}`)},create:e=>(0,g.S)("/hotel/rooms",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>(0,g.S)(`/hotel/rooms/${e}`,{method:"PUT",body:JSON.stringify(t)}),remove:e=>(0,g.S)(`/hotel/rooms/${e}`,{method:"DELETE"})},b={number:"",room_type:"",floor:"",status:"available",capacity:"",rate_cents:"",currency:"USD",description:""};function N(){let[e,t]=(0,a.useState)([]),[r,g]=(0,a.useState)(!0),[N,C]=(0,a.useState)(b),[_,S]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[P,q]=(0,a.useState)(""),D=(0,a.useCallback)(async(e="")=>{g(!0),k(null);try{let r=await f.list({page:1,limit:50,search:e||void 0});t(r.items)}catch(e){k(e instanceof Error?e.message:"Failed to load rooms")}finally{g(!1)}},[]),T=(e,t)=>{C(r=>({...r,[e]:t}))},M=()=>{C(b),S(null)},A=(0,a.useMemo)(()=>({number:N.number,room_type:N.room_type,floor:N.floor||void 0,status:N.status||void 0,capacity:N.capacity?Number(N.capacity):void 0,rate_cents:N.rate_cents?Number(N.rate_cents):void 0,currency:N.currency||void 0,description:N.description||void 0}),[N]),Z=(0,a.useMemo)(()=>({number:N.number||void 0,room_type:N.room_type||void 0,floor:N.floor||void 0,status:N.status||void 0,capacity:N.capacity?Number(N.capacity):void 0,rate_cents:N.rate_cents?Number(N.rate_cents):void 0,currency:N.currency||void 0,description:N.description||void 0}),[N]),$=async e=>{e.preventDefault(),k(null);try{_?await f.update(_.id,Z):await f.create(A),M(),await D(P)}catch(e){k(e instanceof Error?e.message:"Failed to save room")}},E=e=>{S(e),C({number:e.number,room_type:e.room_type,floor:e.floor??"",status:e.status,capacity:e.capacity?String(e.capacity):"",rate_cents:e.rate_cents?String(e.rate_cents):"",currency:e.currency,description:e.description??""})},R=async e=>{if(confirm(`Delete room ${e.number}? This cannot be undone.`))try{await f.remove(e.id),await D(P)}catch(e){k(e instanceof Error?e.message:"Failed to delete room")}};return s.jsx(n.n,{permission:"hotel:rooms:read",fallback:(0,s.jsxs)(h.W,{className:"p-6",children:[s.jsx("h2",{className:"text-2xl",children:"Access denied"}),s.jsx("p",{className:"mt-2 text-sm text-[color:var(--color-text-muted)]",children:"You do not have permission to view room management."})]}),children:(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(o.m,{title:"Room Management",description:"Track room inventory, availability, and pricing.",count:e.length,countLabel:"Rooms"}),s.jsx(l.y,{title:"Search Rooms",children:(0,s.jsxs)(m.B,{children:[s.jsx(v.o,{value:P,onChange:e=>q(e.target.value),className:"md:w-80",placeholder:"Search by number or type"}),s.jsx(x.z,{variant:"secondary",onClick:()=>void D(P),children:"Search"})]})}),s.jsx(n.n,{permission:_?"hotel:rooms:update":"hotel:rooms:create",children:s.jsx(l.y,{title:_?"Edit Room":"Add Room",children:(0,s.jsxs)("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:$,children:[s.jsx(y.g,{label:"Room Number",required:!0,children:s.jsx(v.o,{value:N.number,onChange:e=>T("number",e.target.value),placeholder:"101"})}),s.jsx(y.g,{label:"Room Type",required:!0,children:s.jsx(v.o,{value:N.room_type,onChange:e=>T("room_type",e.target.value),placeholder:"Deluxe"})}),s.jsx(y.g,{label:"Floor",children:s.jsx(v.o,{value:N.floor,onChange:e=>T("floor",e.target.value),placeholder:"1"})}),s.jsx(y.g,{label:"Status",children:s.jsx(v.o,{value:N.status,onChange:e=>T("status",e.target.value),placeholder:"available"})}),s.jsx(y.g,{label:"Capacity",children:s.jsx(v.o,{value:N.capacity,onChange:e=>T("capacity",e.target.value),placeholder:"2"})}),s.jsx(y.g,{label:"Rate (cents)",children:s.jsx(v.o,{value:N.rate_cents,onChange:e=>T("rate_cents",e.target.value),placeholder:"12900"})}),s.jsx(y.g,{label:"Currency",children:s.jsx(v.o,{value:N.currency,onChange:e=>T("currency",e.target.value),placeholder:"USD"})}),s.jsx(y.g,{label:"Description",className:"md:col-span-2",children:s.jsx(j.F,{value:N.description,onChange:e=>T("description",e.target.value),rows:3})}),(0,s.jsxs)("div",{className:"md:col-span-2 flex flex-wrap gap-3",children:[s.jsx(x.z,{type:"submit",variant:"primary",children:_?"Save Changes":"Create Room"}),_?s.jsx(x.z,{type:"button",variant:"secondary",onClick:M,children:"Cancel"}):null]})]})})}),w?s.jsx(u.o,{tone:"error",message:w}):null,r?s.jsx(u.o,{tone:"info",message:"Loading rooms..."}):0===e.length?s.jsx(d.u,{description:"No rooms added yet."}):s.jsx(c.r,{title:"Room Directory",table:s.jsx(i.w,{columns:[{key:"number",header:"Number",cellClassName:"font-medium",render:e=>e.number},{key:"type",header:"Type",cellClassName:"text-[color:var(--color-text-muted)]",render:e=>e.room_type},{key:"status",header:"Status",render:e=>e.status},{key:"capacity",header:"Capacity",render:e=>e.capacity??"-"},{key:"rate",header:"Rate",render:e=>`${e.rate_cents?(e.rate_cents/100).toFixed(2):"-"} ${e.currency}`},{key:"actions",header:"Actions",render:e=>(0,s.jsxs)(p.l,{children:[s.jsx(n.n,{permission:"hotel:rooms:update",children:s.jsx(x.z,{size:"sm",variant:"outline",onClick:()=>E(e),children:"Edit"})}),s.jsx(n.n,{permission:"hotel:rooms:delete",children:s.jsx(x.z,{size:"sm",variant:"danger",onClick:()=>void R(e),children:"Delete"})})]})}],rows:e,rowKey:e=>e.id})})]})})}},4863:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var s=r(326),a=r(1135),n=r(3118);function o({title:e,description:t,rightSlot:r,count:o,countLabel:l,className:i}){return(0,s.jsxs)("div",{className:(0,a.Z)("ui-page-header",i),children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"ui-page-title",children:e}),t?s.jsx("p",{className:"ui-page-subtitle",children:t}):null]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["number"==typeof o?(0,s.jsxs)(n.C,{variant:"accent",children:[o,l?` ${l}`:""]}):null,r]})]})}},6126:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var s=r(326),a=r(4612);function n({title:e,children:t}){return s.jsx(a.q,{title:e,children:t})}},3556:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var s=r(326),a=r(1135);function n({columns:e,rows:t,rowKey:r,emptyFallback:n=null,className:o}){return 0===t.length?s.jsx(s.Fragment,{children:n}):(0,s.jsxs)("table",{className:(0,a.Z)("ui-table",o),children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(e=>s.jsx("th",{className:(0,a.Z)("pb-3",e.headerClassName),children:e.header},e.key))})}),s.jsx("tbody",{children:t.map((t,n)=>s.jsx("tr",{children:e.map(e=>s.jsx("td",{className:(0,a.Z)("py-3",e.cellClassName),children:e.render(t,n)},e.key))},r(t,n)))})]})}},7574:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});var s=r(326),a=r(6184),n=r(4612);function o({title:e,table:t,footer:r}){return(0,s.jsxs)(n.q,{title:e,children:[s.jsx(a.K,{children:t}),r?s.jsx("div",{className:"mt-3",children:r}):null]})}},1346:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var s=r(326),a=r(5430);function n({title:e="Nothing here yet",description:t}){return(0,s.jsxs)(a.W,{className:"p-6",children:[s.jsx("h3",{className:"text-lg",children:e}),s.jsx("p",{className:"mt-2 text-sm text-[color:var(--color-text-muted)]",children:t})]})}},6062:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var s=r(326),a=r(1135);function n({tone:e="info",message:t,className:r}){return s.jsx("p",{className:(0,a.Z)("ui-inline-alert",`ui-inline-alert-${e}`,r),children:t})}},6184:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var s=r(326),a=r(1135);function n({children:e,className:t}){return s.jsx("div",{className:(0,a.Z)("ui-table-wrap",t),children:e})}},5481:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var s=r(326);function a({children:e}){return s.jsx("div",{className:"flex flex-wrap gap-3",children:e})}},4612:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var s=r(326),a=r(1135),n=r(5430);function o({title:e,actions:t,children:r,className:o}){return(0,s.jsxs)(n.W,{className:(0,a.Z)("p-6 ui-reveal",o),children:[(e||t)&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e?s.jsx("h3",{className:"text-lg",children:e}):s.jsx("span",{}),t]}),s.jsx("div",{className:(0,a.Z)((e||t)&&"mt-4"),children:r})]})}},4381:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var s=r(326),a=r(1135);function n({children:e,className:t}){return s.jsx("div",{className:(0,a.Z)("flex flex-wrap gap-2",t),children:e})}},5430:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var s=r(326),a=r(1135);function n({children:e,className:t}){return s.jsx("div",{className:(0,a.Z)("glass-card",t),children:e})}},3118:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var s=r(326),a=r(1135);function n({variant:e="accent",className:t,children:r,...n}){return s.jsx("span",{className:(0,a.Z)("badge",`badge-${e}`,t),...n,children:r})}},7759:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var s=r(326),a=r(1135);function n({className:e,variant:t="secondary",size:r="md",children:n,...o}){return s.jsx("button",{className:(0,a.Z)("ui-btn ui-anim",`ui-btn-${t}`,"sm"===r&&"ui-btn-sm","md"===r&&"ui-btn-md","lg"===r&&"ui-btn-lg",e),...o,children:n})}},7118:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(326),a=r(1135);function n({label:e,required:t,hint:r,error:n,className:o,children:l}){return(0,s.jsxs)("div",{className:(0,a.Z)("space-y-2",o),children:[(0,s.jsxs)("label",{className:"text-sm",children:[e,t&&s.jsx("span",{className:"ml-1 text-[color:var(--color-accent)]",children:"*"})]}),l,n?s.jsx("p",{className:"text-xs text-red-400",children:n}):r?s.jsx("p",{className:"text-xs text-[color:var(--color-text-muted)]",children:r}):null]})}},5495:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var s=r(326),a=r(1135);function n({className:e,...t}){return s.jsx("input",{className:(0,a.Z)("ui-input",e),...t})}},4909:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(326),a=r(1135);function n({className:e,...t}){return s.jsx("textarea",{className:(0,a.Z)("ui-textarea",e),...t})}},5453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\layout.tsx`),{__esModule:n,$$typeof:o}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\layout.tsx#default`)},9733:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\rooms\page.tsx`),{__esModule:n,$$typeof:o}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\josep\Documents\AarkayTechnoConsultants\HMS\frontend\app\hotel\rooms\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5819,8591,9158],()=>r(9209));module.exports=s})();